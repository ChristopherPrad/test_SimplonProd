{"ast":null,"code":"var _jsxFileName = \"/Users/Chris/Desktop/test_simplonprod/client/src/components/AllContact.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport ModifContact from \"./ModifContact\";\nimport TextField from \"@material-ui/core/TextField\";\n\nclass allContact extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchData = () => {\n      axios.get(\"http://localhost:3006/contacts/all\").then(response => {\n        console.log(response.data);\n        this.setState({\n          data: response.data,\n          loading: false\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.handleClickBtn = id => {\n      console.log(\"ok\");\n      axios.delete(\"http://localhost:3006/contacts/del/\" + id).then(res => this.fetchData()).catch(err => console.log(\"error\"));\n    };\n\n    this.sortNom = letter => {\n      console.log(letter);\n      axios.get(\"http://localhost:3006/contacts/search-letter/\".concat(letter)).then(({\n        data\n      }) => {\n        this.setState({\n          data\n        });\n      }).catch(err => console.log(\"error\"));\n    };\n\n    this.searchInput = e => {\n      console.log();\n      this.setState({\n        valueSearch: e.target.value\n      }, () => {\n        // si input vide alors ne pas faire la requete axios\n        // if (e.target.lenght === 0);\n        axios.get(\"http://localhost:3006/contacts/input-search/\".concat(this.state.valueSearch)).then(({\n          data\n        }) => {\n          console.log(\"data: \", data);\n          this.setState({\n            data\n          });\n        }).catch(err => console.log(\"error\"));\n      });\n    };\n\n    this.state = {\n      isCliked: false,\n      data: [],\n      loading: true,\n      value: \"\",\n      valueSearch: \"\"\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  } // state = {\n  //   loading: true,\n  //   data: [],\n  //   isCliked: false;\n  // };\n\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  handleClick(value) {\n    console.log(value);\n    this.setState({\n      isCliked: !this.state.isCliked\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  render() {\n    if (this.state.loading === true) {\n      return React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Loading...\");\n    } else if (this.state.data.length > 0) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Aucun resultat\");\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Project\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: e => this.searchInput(e),\n        value: this.state.valueSearch,\n        placeholder: \"Rechercher un contact\",\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        className: \"alphabet-sort\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        onClick: () => this.sortNom(\"a\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"A\"), React.createElement(\"span\", {\n        onClick: () => this.sortNom(\"b\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"B\"), React.createElement(\"span\", {\n        onClick: () => this.sortNom(\"c\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"C\"), React.createElement(\"span\", {\n        onClick: () => this.sortNom(\"d\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"D\"), \"EFGHIJKLMNOPQRSTUVWXYZ\"), this.state.data.map((value, index) => {\n        return React.createElement(\"div\", {\n          className: \"container\",\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, React.createElement(ModifContact, {\n          nom: value.nom,\n          prenom: value.prenom // image={value.image}\n          ,\n          email: value.email,\n          numero: value.numero,\n          fonction: value.fonction,\n          date: value.date,\n          id: value._id,\n          handleClickBtn: this.handleClickBtn,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }));\n      }));\n    }\n  }\n\n}\n\nexport default allContact;","map":{"version":3,"sources":["/Users/Chris/Desktop/test_simplonprod/client/src/components/AllContact.js"],"names":["React","Component","axios","ModifContact","TextField","allContact","constructor","props","fetchData","get","then","response","console","log","data","setState","loading","catch","err","handleClickBtn","id","delete","res","sortNom","letter","searchInput","e","valueSearch","target","value","state","isCliked","handleClick","bind","handleChange","componentDidMount","event","render","length","map","index","nom","prenom","email","numero","fonction","date","_id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport ModifContact from \"./ModifContact\";\nimport TextField from \"@material-ui/core/TextField\";\n\nclass allContact extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isCliked: false,\n      data: [],\n      loading: true,\n      value: \"\",\n      valueSearch: \"\"\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n  // state = {\n  //   loading: true,\n  //   data: [],\n  //   isCliked: false;\n\n  // };\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  fetchData = () => {\n    axios\n      .get(\"http://localhost:3006/contacts/all\")\n      .then(response => {\n        console.log(response.data);\n        this.setState({\n          data: response.data,\n\n          loading: false\n        });\n      })\n      .catch(err => console.log(err));\n  };\n\n  handleClick(value) {\n    console.log(value);\n    this.setState({\n      isCliked: !this.state.isCliked\n    });\n  }\n\n  handleChange(event) {\n    this.setState({ value: event.target.value });\n  }\n\n  handleClickBtn = id => {\n    console.log(\"ok\");\n    axios\n      .delete(\"http://localhost:3006/contacts/del/\" + id)\n      .then(res => this.fetchData())\n      .catch(err => console.log(\"error\"));\n  };\n\n  sortNom = letter => {\n    console.log(letter);\n    axios\n      .get(`http://localhost:3006/contacts/search-letter/${letter}`)\n      .then(({ data }) => {\n        this.setState({\n          data\n        });\n      })\n      .catch(err => console.log(\"error\"));\n  };\n\n  searchInput = e => {\n    console.log();\n    this.setState({ valueSearch: e.target.value }, () => {\n      // si input vide alors ne pas faire la requete axios\n      // if (e.target.lenght === 0);\n      axios\n        .get(\n          `http://localhost:3006/contacts/input-search/${this.state.valueSearch}`\n        )\n        .then(({ data }) => {\n          console.log(\"data: \", data);\n          this.setState({\n            data\n          });\n        })\n        .catch(err => console.log(\"error\"));\n    });\n  };\n\n  render() {\n    if (this.state.loading === true) {\n      return <h1>Loading...</h1>;\n    } else if (this.state.data.length > 0) {\n      return <div>Aucun resultat</div>;\n    } else {\n      return (\n        <div>\n          <h1 className=\"text-center\">Project</h1>\n          <br />\n          <br />\n          <div className=\"search\">\n            <input\n              onChange={e => this.searchInput(e)}\n              value={this.state.valueSearch}\n              placeholder=\"Rechercher un contact\"\n              type=\"text\"\n            />\n          </div>\n          <p className=\"alphabet-sort\">\n            <span onClick={() => this.sortNom(\"a\")}>A</span>\n            <span onClick={() => this.sortNom(\"b\")}>B</span>\n            <span onClick={() => this.sortNom(\"c\")}>C</span>\n            <span onClick={() => this.sortNom(\"d\")}>D</span>\n            EFGHIJKLMNOPQRSTUVWXYZ\n          </p>\n          {this.state.data.map((value, index) => {\n            return (\n              <div className=\"container\" key={index}>\n                <ModifContact\n                  nom={value.nom}\n                  prenom={value.prenom}\n                  // image={value.image}\n                  email={value.email}\n                  numero={value.numero}\n                  fonction={value.fonction}\n                  date={value.date}\n                  id={value._id}\n                  handleClickBtn={this.handleClickBtn}\n                />\n                <br />\n                <br />\n              </div>\n            );\n          })}\n        </div>\n      );\n    }\n  }\n}\n\nexport default allContact;\n"]},"metadata":{},"sourceType":"module"}